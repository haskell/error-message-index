<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Duplicate Instances [GHC-59692] — Haskell Error Index</title>
  <link rel="stylesheet" href="../../css/highlight.css">
  <script src="../../js/highlight.min.js"></script>
  <link rel="stylesheet" href="../../css/default.css" />
  <link rel="stylesheet" href="../../css/theme.css" />
</head>

<body>
  <main role="main">
    <nav class="breadcrumb">
      
      <a href="../../">The Haskell Error Index</a>&nbsp;»
      
      Duplicate Instances [GHC-59692]
    </nav>
    <h1>Duplicate Instances [GHC-59692]</h1>
    

<p>For type class coherence, at most one instance may be defined for each type for the same type class.</p>
<p>Identical instances should simply be removed.
If multiple instances for the same type are required, circumventing this restriction is possible by introducing a <code>newtype</code> wrapper.</p>



<h2>Examples</h2>

<details open="open">
  <summary>Multiple Instances for Semigroup Int</summary>
  <div class="details-inner">
    <p>Haskell does not allow to give more than one definition of <code>Semigroup Int</code>, even though we might want to provide both an instance for the semigroup given by multiplication and the semigroup given by addition.
If we require both instances, then we should define two <code>newtype</code> wrappers for <code>Int</code>.</p>

<pre class="filename">MultipleInstances.hs</pre>
<div class="example-container">
  <div class="example">
    <div class="example-inner">
      <div class="example-title">Before</div>
      <!-- keep next line as is, i.e., on one line, or the code will not format properly -->
      <pre class="example-pre"><code class="language-haskell">module MultipleInstances where

instance Semigroup Int where
    (<>) = (+)

instance Semigroup Int where
    (<>) = (*)
</code></pre>
    </div>
  </div>
  <div class="example">
    <div class="example-inner">
      <div class="example-title">After</div>
      <!-- keep next line as is, i.e., on one line, or the code will not format propertly -->
      <pre class="example-pre"><code class="language-haskell">module MultipleInstances where

newtype Sum = Sum { getSum :: Int }

instance Semigroup Sum where
    (<>) x y = Sum (getSum x + getSum y)

newtype Product = Product { getProduct :: Int }

instance Semigroup Product where
    (<>) x y = Product (getProduct x * getProduct y)
</code></pre>
    </div>
  </div>
</div>


  </div>
</details>



  </main>

  <footer>
    <p class="HF foot">
      This site is a project of <a href="https://haskell.foundation" target="_blank" rel="noopener noreferrer">The
        Haskell Foundation</a>.
    </p>
    <p class="shoutout foot">
      Site proudly generated by
      <a href="http://jaspervdj.be/hakyll" target="_blank" rel="noopener noreferrer">Hakyll</a>
    </p>
  </footer>

  <script>document.querySelectorAll('code.language-haskell').forEach(el => {
      hljs.highlightElement(el);
    });</script>
</body>

</html>
